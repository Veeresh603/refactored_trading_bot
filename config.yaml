# ============================
# API Keys (use .env for secrets ideally)
# ============================
api_key: YOUR_API_KEY
api_secret: YOUR_API_SECRET

# ============================
# General Risk Parameters
# ============================
risk_per_trade: 0.01           # Fraction of capital risked per trade
max_drawdown: 0.2              # Portfolio-level max drawdown
lot_size: 50
initial_balance: 100000

# ============================
# Trading Configuration
# ============================
trading:
  mode: "paper"                # backtest | paper | live
  broker: "zerodha"
  initial_balance: 100000
  instruments: [256265, 260105]  # NIFTY=256265, BANKNIFTY=260105
  poll_interval: 5             # seconds between data fetch
  paper_lot_size: 50

market:
  open: "00:00:00" # "09:15:00"
  close: "23:59:59" # "15:30:00"
  # open: "09:15:00"
  # close: "15:30:00"

# ============================
# Logging
# ============================
logging:
  level: "INFO"
  logfile: "logs/trading.log"

# ============================
# Risk Manager + Circuit Breaker
# ============================
risk:
  max_position_size: 250      # max 5 lots (5Ã—50 = 250 contracts)
  max_daily_loss: -50000        # allow up to â‚¹50k drawdown before stop
  max_drawdown: -30000          # 30% of capital
  max_consecutive_losses: 10    # more forgiving
  stop_on_loss: false           # donâ€™t instantly stop whole bot
  cool_off_minutes: 5           # short cool-off for testing
  max_short_lots: 10        # ðŸš€ NEW â†’ cap on SELL/short exposure



# ============================
# Execution Engine
# ============================
execution:
  max_retries: 3
  sleep_between_retries: 2
  slippage: 0.001              # 0.1% slippage tolerance

# ============================
# Options Optimizer
# ============================
options_optimizer:
  min_volume: 1000
  min_oi: 5000
  lot_size: 50

# ============================
# RL Allocator
# ============================
rl_allocator:
  strikes: [-100, 0, 100]      # offsets from ATM
  expiries: ["weekly", "monthly"]
  window_size: 30

# ============================
# Ensemble Settings
# ============================
ensemble:
  enabled: true
  weights:
    lstm: 0.4
    transformer: 0.4
    rl_agent: 0.2
